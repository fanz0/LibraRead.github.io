function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var bookSearched=document.getElementById("book-searched"),button=document.getElementById("search");button.addEventListener("click",(function(){for(;container.firstChild;)container.removeChild(container.firstChild);fetch("https://openlibrary.org/search.json?q=".concat(bookSearched.value)).then((function(e){return e.json()})).then((function(e){e&&(e.docs||[]).forEach((function(e){var t=e.cover_i;addValue(e.title,e.author_name,e.publish_year,t,e.key)}))})).catch((function(e){return console.log("Errore: ",e)}))}));var container=document.getElementById("elements");function addValue(e,t,n,o,a){var r=document.createElement("div");r.className="relative flex w-[70%] h-64 mt-8 bg-sky-200 rounded-lg gap-10 mb-10 max-[600px]:gap-1 max-[600px]:w-[100%] max-[768px]:w-[90%] max-[1024px]:w-[80%]";var c=document.createElement("img");c.src=null!=o?"https://covers.openlibrary.org/b/id/".concat(o,"-M.jpg"):"assets/images/not_found_cornice-removebg-preview.png",c.className="flex-initial h-64 max-w-52 w-1/5 max-[480px]:w-16 max-[600px]:w-32 rounded-lg";var l=document.createElement("div");l.className="w-[70%] flex flex-col gap-1";var i=document.createElement("h3");i.className="ml-10 font-bold h-16 mt-5",i.textContent=e;var d=document.createElement("h4");d.textContent=t,d.className="ml-10 font-semibold h-16";var s=document.createElement("ul");if(s.className="ml-10 h-16 overflow-y-auto",s.textContent="-Pubblicazioni-","array"==typeof n)n.forEach((function(e){var t=document.createElement("li");t.textContent=e,s.appendChild(t)}));else{var u=document.createElement("li");u.textContent=n,s.appendChild(u)}l.appendChild(i),l.appendChild(d),l.appendChild(s),r.appendChild(c),r.appendChild(l),container.appendChild(r);var m=document.createElement("p");fetch("https://openlibrary.org".concat(a,".json")).then((function(e){return e.json()})).then((function(e){if(e){var t=e.description;if(null!=t&&"object"!=_typeof(t))m.textContent=t,m.className="my-4 overflow-y-auto hidden",r.appendChild(h);else if(null!=t&&"object"==_typeof(t)){var n=t.value;m.textContent=n,m.className="my-4 overflow-y-auto hidden",r.appendChild(h)}}})).catch((function(e){return console.log("Errore: ",e)})),l.appendChild(m);var h=document.createElement("button");h.className="border flex-initial h-min mr-0 rounded-lg text-lg hover:bg-slate-200 w-fit max-w-40 absolute right-0",h.textContent="Trama",h.addEventListener("click",(function(){"Trama"==h.textContent?(i.classList.add("hidden"),d.classList.add("hidden"),s.classList.add("hidden"),m.classList.remove("hidden"),h.textContent="Indietro"):(i.classList.remove("hidden"),d.classList.remove("hidden"),s.classList.remove("hidden"),m.classList.add("hidden"),h.textContent="Trama")}))}var select=document.getElementById("select");select.addEventListener("change",(function(){button.addEventListener("click",(function(){for(;container.firstChild;)container.removeChild(container.firstChild);"Argomento"==select.value?fetch("https://openlibrary.org/subjects/".concat(bookSearched.value,".json?limit=100")).then((function(e){return e.json()})).then((function(e){e&&e.works.forEach((function(e){var t=e.cover_id,n=e.title,o=e.authors,a=e.first_publish_year,r=e.key;o.forEach((function(e){var o=Object.values(e)[1];addValue(n,o,a,t,r)}))}))})).catch((function(e){return console.log(e)})):"Tutto"==select.value&&fetch("https://openlibrary.org/search.json?q=".concat(bookSearched.value)).then((function(e){return e.json()})).then((function(e){e&&(e.docs||[]).forEach((function(e){var t=e.cover_i;addValue(e.title,e.author_name,e.publish_year,t,e.key)}))})).catch((function(e){return console.log(e)}))}))}));